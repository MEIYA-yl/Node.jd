---
tags: MongoDB note
aliases：
progress: underway
---

## MongoDB 基础语法：
1. **NoSQL** 简史：
	NoSQL 最早出现于 1998 年，是 **Carlo Strozzi** 开发的一个轻量、开源、不提供 SQL 功能的**关系数据库**。强调Key-Value Stores和文档数据库的优点，不单纯反对RDBMS（关系数据库管理系统）。
	
2. 为什么使用？
	按照目前的互联网环境而言：关系型数据库和非关系型数据库关联使用，关系型做最终的数据存储、持久护化，非关系型数据库做存在内存中的缓存支持，减少对事务的支持、对复杂查询的支持、获取性能上的提升。

- **NoSql：** 
	1. 代表不仅仅是SQL
	2. 没有声明性查询语言
	3. 没有预定义的模式
	4. 键值对存储、列存储、文档存储、图形数据库
	5. 最终一致性、而非ACID属性
	6. 非结构化和不可预知的教程
	7. CAP定理
	8. 高性能、高可用性和可伸缩性

- **RDBMS**:
	1. 高度组织结构化数据
	2. 结构化查询语言（SQL）
	3. 数据和关系都存储在单独的表中
	4. 数据操纵语言、数据定义语言
	5. 严格的一致性
	6. 基础事务

- NoSQL 数据库四个种类
	1. 键值存储
		- 特点：键值数据库类似传统语言中使用的哈希表。通过key进行对数据的操作。
		- 查询速度快，但数据无结构化，通常只能被当作字符串或者二进制数据存储。
		- 应用场景：内容缓存、用户信息（会话、配置信息、购物车）等这要用于处理大数据的高访问负载。
		- Readis、Memcached。
	2. 文档存储
		- 特点：将数据以文档的形式存储，类似JSON，是一系列数据项的集合。每一个数据项都有独立的名称和对应的值，值可以是简单数据类型：字符串、数字、日期等；也可以是复杂数据类型：序列表、关联对象。
		- 数据解构要求不严格，表结构可变，不需要像关系型数据库一样需要预先定义表结构；但查询性能不高，缺乏统一的查询语法。
		- 应用场景：日志、web应用等。
		- MongoDB、Couch DB
	3. 列（族）存储
		- 特点：列存储数据库将数据存储在列族中，将多个列聚合成一个列族，键仍然存在但他们会指向多个列。比如：如果我们通常会一起查寻他们的姓名和年龄而不是薪资。这种情况下，姓名和年龄就会被放入一个列族中，而薪资则在一个列族中。
		- 列存储查找速度快，可扩展性强，更容易进行分布式扩展，适用于分布式扩展，适用于分布式的文件系统，应对分布式存储的海量数据。但查询性能不高、缺乏统一的查询语法。
		- 应用场景：日志、分布式文件系统（对象存储）、推介画像、时空数据、消息订单等。
		- Cassandra、HBase
	4. 图形存储
		- 特点：图形数据允许我们将数据以图的形势存储。
		- 可以利用图形相关算法，比如：最短路径寻址、N度关系查找等；但很多时候需要对整个图做计算才能得出需要的信息，分布式的集群方案不好做，处理超级节点乏力、没有分片存储机制，国内社区不活跃。
		- 应用场景：社交网络、推荐系统等。专注于构建关系图谱。
		- Neo4j、Infinite Graph

3. 优缺点：
	- 优点：高可扩展性、没有标准化、分布式计算、有限的查询功能（到目前为止）、低成本；
	- 缺点：最终一致是不直观的程序、架构的灵活性，半结构化数据、没有复杂的关系。

4. 总结：适用场景
	- 数据模型简单
	- 灵活性强的 IT 系统
	- 对数据库性能要求较高
	- 不需要高度的数据一致性
	- 对给定的key，比较容易映射复杂值的环境